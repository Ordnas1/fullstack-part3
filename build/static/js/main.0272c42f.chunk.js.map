{"version":3,"sources":["Components/Userform.js","Components/UserFilter.js","Components/UserList.js","Components/AppMessage.js","Services/person.js","App.js","reportWebVitals.js","index.js"],"names":["Userform","handleSubmit","handleNameChange","handleNumberChange","nameValue","numberValue","onSubmit","value","onChange","required","type","UserFilter","filterValue","handleFilter","UserList","personList","handleDestroy","map","person","name","number","onClick","id","AppMessage","message","className","PERSONS_ENDPOINT","personsService","getAll","axios","get","then","res","data","createPerson","post","destroy","delete","update","put","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","appMessage","setAppMessage","appMessageType","setAppMessageType","useEffect","filteredPersons","length","toLowerCase","includes","e","target","preventDefault","window","confirm","personId","find","console","log","newPersons","updateIndex","findIndex","setTimeout","newPerson","concat","newFiltered","catch","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qMAgBeA,EAdE,SAAC,GAAD,IAAEC,EAAF,EAAEA,aAAcC,EAAhB,EAAgBA,iBAAkBC,EAAlC,EAAkCA,mBAAoBC,EAAtD,EAAsDA,UAAWC,EAAjE,EAAiEA,YAAjE,OACf,uBAAMC,SAAUL,EAAhB,UACE,yCACQ,uBAAOM,MAAOH,EAAWI,SAAUN,EAAkBO,UAAQ,OAErE,2CACU,uBAAOF,MAAOF,EAAaG,SAAUL,EAAoBM,UAAQ,OAE3E,8BACE,wBAAQC,KAAK,SAAb,uBCFSC,EAPI,SAAC,GAAD,IAAEC,EAAF,EAAEA,YAAaC,EAAf,EAAeA,aAAf,OAClB,mDACiB,uBAAON,MAAOK,EAAaJ,SAAUK,QCWxCC,EAVE,SAAC,GAAD,IAAGC,EAAH,EAAGA,WAAYC,EAAf,EAAeA,cAAf,OACf,6BACGD,EAAWE,KAAI,SAACC,GAAD,OACd,+BACGA,EAAOC,KADV,IACiBD,EAAOE,OADxB,IACgC,wBAAQC,QAAS,kBAAML,EAAcE,EAAOI,KAA5C,sBADvBJ,EAAOI,UCGPC,EATI,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,QAASd,EAAW,EAAXA,KAC7B,MAAgB,KAAZc,EACK,wBACW,UAATd,EACF,qBAAKe,UAAU,QAAf,SAAwBD,IAExB,qBAAKC,UAAU,UAAf,SAA0BD,K,gBCN/BE,EAAmB,eAYVC,EAFQ,CAAEC,OARV,kBAAMC,IAAMC,IAAIJ,GAAkBK,MAAK,SAACC,GAAD,OAASA,EAAIC,SAQlCC,aAPZ,SAAChB,GAAD,OACnBW,IAAMM,KAAKT,EAAkBR,GAAQa,MAAK,SAACC,GAAD,OAASA,EAAIC,SAMVG,QAL/B,SAACd,GAAD,OACdO,IAAMQ,OAAN,UAAgBX,EAAhB,YAAoCJ,IAAMS,MAAK,SAACC,GAAD,OAASA,EAAIC,SAINK,OAFzC,SAAChB,EAAIW,GAAL,OAAcJ,IAAMU,IAAN,UAAab,EAAb,YAAiCJ,GAAMW,GAAMF,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UCmI3EO,EApIH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTC,EADS,KACAC,EADA,OAEcF,mBAAS,IAFvB,mBAETG,EAFS,KAEAC,EAFA,OAGkBJ,mBAAS,IAH3B,mBAGTK,EAHS,KAGEC,EAHF,OAIYN,mBAAS,IAJrB,mBAITO,EAJS,KAIDC,EAJC,OAKoBR,mBAAS,IAL7B,mBAKTS,EALS,KAKGC,EALH,OAM4BV,mBAAS,IANrC,mBAMTW,EANS,KAMOC,EANP,KAQhBC,qBAAU,kBAAM3B,EAAeC,SAASG,MAAK,SAACE,GAAD,OAAUU,EAAWV,QAAQ,IAG1E,IA+FMsB,EACc,IAAlBP,EAAOQ,OACHd,EACAA,EAAQM,QAAO,SAAC9B,GAAD,OACbA,EAAOC,KAAKsC,cAAcC,SAASV,EAAOS,kBAGlD,OACE,gCACE,cAAC,EAAD,CAAYjC,QAAS0B,EAAYxC,KAAM0C,IACvC,2CACA,cAAC,EAAD,CAAYxC,YAAaoC,EAAQnC,aApGV,SAAC8C,GAC1BV,EAAUU,EAAEC,OAAOrD,UAoGjB,yCACA,cAAC,EAAD,CACEN,aAtDY,SAAC0D,GAGjB,IAtBoBrC,EAAIW,EAwBxB,GAJA0B,EAAEE,iBAEenB,EAAQzB,KAAI,SAACC,GAAD,OAAYA,EAAOC,KAAKsC,iBAExCC,SAASd,EAAQa,gBAE1BK,OAAOC,QAAP,UAAkBnB,EAAlB,8CACA,CACA,IAAMoB,EAAWtB,EAAQuB,MACvB,SAAC/C,GAAD,OAAYA,EAAOC,KAAKsC,gBAAkBb,EAAQa,iBAClDnC,GAOF,OANA4C,QAAQC,IAAIH,GA/BI1C,EAoCH0C,EApCO/B,EAgCF,CAChBd,KAAMyB,EACNxB,OAAQ0B,QAjCdnB,EACGW,OAAOhB,EAAIW,GACXF,MAAK,SAACE,GACL,IAAMmC,EAAU,YAAO1B,GACjB2B,EAAcD,EAAWE,WAAU,SAACpD,GAAD,OAAYA,EAAOI,KAAOA,KACnE4C,QAAQC,IAAI,2BAA4BE,EAAapC,GACrDmC,EAAWC,GAAepC,EAC1BU,EAAWyB,MAEZrC,MAAK,WACJoB,EAAc,GAAD,OAAIlB,EAAKd,KAAT,0BACbkC,EAAkB,WAClBkB,YAAW,WACTpB,EAAc,MACb,QA0BP,IAAMqB,EAAY,CAChBrD,KAAMyB,EACNxB,OAAQ0B,GAEVnB,EACGO,aAAasC,GACbzC,MAAK,SAACE,GAAD,OAAUU,EAAWD,EAAQ+B,OAAOxC,OACzCF,MAAK,WACJoB,EAAc,GAAD,OAAIqB,EAAUrD,KAAd,wBACbkC,EAAkB,WAClBkB,YAAW,WACTpB,EAAc,MACb,QAEPN,EAAW,IACXE,EAAa,KAkBT7C,iBA9GmB,SAACyD,GACxBd,EAAWc,EAAEC,OAAOrD,QA8GhBJ,mBA5GqB,SAACwD,GAC1BZ,EAAaY,EAAEC,OAAOrD,QA4GlBH,UAAWwC,EACXvC,YAAayC,IAEf,yCACA,cAAC,EAAD,CAAU/B,WAAYwC,EAAiBvC,cA1GrB,SAACM,GACjBwC,OAAOC,QAAQ,iDACjBpC,EACGS,QAAQd,GACRS,MAAK,SAACE,GACL,IACMyC,EADU,YAAOhC,GACQM,QAAO,SAAC9B,GAAD,OAAYA,EAAOI,KAAOA,KAChEqB,EAAW+B,GACXvB,EAAc,+BACdE,EAAkB,WAClBkB,YAAW,WACTpB,EAAc,MACb,QAEJwB,OAAM,SAAChB,GACNR,EAAc,4BACdE,EAAkB,SAClBkB,YAAW,WACTpB,EAAc,MACb,eCrCEyB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB/C,MAAK,YAAkD,IAA/CgD,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.0272c42f.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Userform = ({handleSubmit, handleNameChange, handleNumberChange, nameValue, numberValue}) => (\n  <form onSubmit={handleSubmit}>\n    <div>\n      name: <input value={nameValue} onChange={handleNameChange} required />\n    </div>\n    <div>\n      number: <input value={numberValue} onChange={handleNumberChange} required />\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n);\n\nexport default Userform\n","import React from 'react'\n\nconst UserFilter = ({filterValue, handleFilter}) => (\n\t<div>\n\t\tFilter by name: <input value={filterValue} onChange={handleFilter} />\n\t</div>\n)\n\n\nexport default UserFilter","import React from \"react\";\n\n\n\n\nconst UserList = ({ personList, handleDestroy }) => (\n  <ul>\n    {personList.map((person) => (\n      <li key={person.id}>\n        {person.name} {person.number} <button onClick={() => handleDestroy(person.id)}>Delete</button>\n      </li>\n    ))}\n  </ul>\n);\n\nexport default UserList;\n","import React from \"react\";\n\nconst AppMessage = ({ message, type }) => {\n  if (message === \"\") {\n    return <div></div>;\n  } else if (type === \"error\") {\n    return <div className=\"error\">{message}</div>;\n  } else {\n    return <div className=\"success\">{message}</div>;\n  }\n};\nexport default AppMessage;\n","import axios from \"axios\";\n\nconst PERSONS_ENDPOINT = \"/api/persons\";\n\nconst getAll = () => axios.get(PERSONS_ENDPOINT).then((res) => res.data);\nconst createPerson = (person) =>\n  axios.post(PERSONS_ENDPOINT, person).then((res) => res.data);\nconst destroy = (id) =>\n  axios.delete(`${PERSONS_ENDPOINT}/${id}`).then((res) => res.data);\n\nconst update = (id, data) => axios.put(`${PERSONS_ENDPOINT}/${id}`, data).then(res => res.data)\n\nconst personsService = { getAll, createPerson, destroy, update};\n\nexport default personsService;\n","import React, { useState, useEffect } from \"react\";\n\nimport Userform from \"./Components/Userform\";\nimport UserFilter from \"./Components/UserFilter\";\nimport UserList from \"./Components/UserList\";\nimport AppMessage from \"./Components/AppMessage\";\n\nimport personsService from \"./Services/person\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [appMessage, setAppMessage] = useState(\"\");\n  const [appMessageType, setAppMessageType] = useState(\"\");\n\n  useEffect(() => personsService.getAll().then((data) => setPersons(data)), []);\n  // Input handlers\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value);\n  };\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value);\n  };\n  const handleFilterChange = (e) => {\n    setFilter(e.target.value);\n  };\n\n  const handleDestroy = (id) => {\n    if (window.confirm(\"Are you sure you want to delete this record?\")) {\n      personsService\n        .destroy(id)\n        .then((data) => {\n          const newPersons = [...persons];\n          const newFiltered = newPersons.filter((person) => person.id !== id);\n          setPersons(newFiltered);\n          setAppMessage(`data destroyed successfully`);\n          setAppMessageType(\"success\");\n          setTimeout(() => {\n            setAppMessage(\"\");\n          }, 5000);\n        })\n        .catch((e) => {\n          setAppMessage(`Record already destroyed`);\n          setAppMessageType(\"error\");\n          setTimeout(() => {\n            setAppMessage(\"\");\n          }, 5000);\n        });\n    } else {\n      return;\n    }\n  };\n\n  const handleUpdate = (id, data) => {\n    personsService\n      .update(id, data)\n      .then((data) => {\n        const newPersons = [...persons];\n        const updateIndex = newPersons.findIndex((person) => person.id === id);\n        console.log(\"updating data with index\", updateIndex, data);\n        newPersons[updateIndex] = data;\n        setPersons(newPersons);\n      })\n      .then(() => {\n        setAppMessage(`${data.name} updated successfully`);\n        setAppMessageType(\"success\");\n        setTimeout(() => {\n          setAppMessage(\"\");\n        }, 5000);\n      });\n  };\n\n  const addPerson = (e) => {\n    e.preventDefault();\n\n    const nameList = persons.map((person) => person.name.toLowerCase());\n\n    if (nameList.includes(newName.toLowerCase())) {\n      if (\n        window.confirm(`${newName} alredy exists. Replace old phone number?`)\n      ) {\n        const personId = persons.find(\n          (person) => person.name.toLowerCase() === newName.toLowerCase()\n        ).id;\n        console.log(personId);\n        const newPerson = {\n          name: newName,\n          number: newNumber,\n        };\n        handleUpdate(personId, newPerson);\n        return;\n      }\n    }\n\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    };\n    personsService\n      .createPerson(newPerson)\n      .then((data) => setPersons(persons.concat(data)))\n      .then(() => {\n        setAppMessage(`${newPerson.name} added successfully`);\n        setAppMessageType(\"success\");\n        setTimeout(() => {\n          setAppMessage(\"\");\n        }, 5000);\n      });\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const filteredPersons =\n    filter.length === 0\n      ? persons\n      : persons.filter((person) =>\n          person.name.toLowerCase().includes(filter.toLowerCase())\n        );\n\n  return (\n    <div>\n      <AppMessage message={appMessage} type={appMessageType} />\n      <h2>Phonebook</h2>\n      <UserFilter filterValue={filter} handleFilter={handleFilterChange} />\n      <h3>Add new</h3>\n      <Userform\n        handleSubmit={addPerson}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        nameValue={newName}\n        numberValue={newNumber}\n      ></Userform>\n      <h2>Numbers</h2>\n      <UserList personList={filteredPersons} handleDestroy={handleDestroy} />\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}